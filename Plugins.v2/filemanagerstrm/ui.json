{
  "type": "page",
  "title": "STRM 文件管理",
  "sections": [
    {
      "title": "操作",
      "fields": [
        {"type": "text", "key": "src_root", "label": "当前影视库路径"},
        {"type": "text", "key": "full_root", "label": "完整影视库路径"},
        {"type": "text", "key": "out_root", "label": "输出目录"}
      ],
      "buttons": [
        {
          "label": "扫描缺失 STRM",
          "action": "api:get:/api/plugins/filemanagerstrm/scan_missing",
          "output_type": "table",
          "columns": ["missing_paths"]
        },
        {
          "label": "导出扫描 CSV",
          "action": "api:get:/api/plugins/filemanagerstrm/download_csv",
          "output_type": "file"
        },
        {
          "label": "复制缺失目录",
          "action": "api:post:/api/plugins/filemanagerstrm/copy_from_full",
          "payload": {
            "src_root": "{src_root}",
            "full_root": "{full_root}",
            "out_root": "{out_root}"
          },
          "output_type": "table",
          "columns": ["copied", "failed"]
        }
      ]
    }
  ]
}
